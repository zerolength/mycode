net.bridge.bridge-nf-call-iptables = 0
'net.ipv4.ip_forward = 1
 net.ipv6.conf.default.forwarding = 1
 net.ipv6.conf.all.forwarding = 1' | sudo tee /etc/sysctl.d/10-ip-forwarding.conf
{'subnets': [{'name': 'purple', 'subnet_ip': '10.1.1.0', 'bridge': True, 'cidr': '/24', 'gw': '10.1.1.1', 'dhcp_range': '10.1.1.21,10.1.1.150'}, {'name': 'purple-core', 'subnet_ip': '10.1.5.0', 'bridge': False, 'cidr': '/30', 'gw': '10.1.5.1', 'dhcp_range': None}, {'name': 'orange', 'subnet_ip': '10.1.4.0', 'bridge': True, 'cidr': '/24', 'gw': '10.1.4.1', 'dhcp_range': '10.1.4.21,10.1.4.150'}, {'name': 'orange-core', 'subnet_ip': '10.1.5.12', 'bridge': False, 'cidr': '/30', 'gw': '10.1.5.13', 'dhcp_range': None}, {'name': 'yellow', 'subnet_ip': '10.1.2.0', 'bridge': True, 'cidr': '/24', 'gw': '10.1.2.1', 'dhcp_range': '10.1.2.21,10.1.2.150'}, {'name': 'yellow-core', 'subnet_ip': '10.1.5.4', 'bridge': False, 'cidr': '/30', 'gw': '10.1.5.5', 'dhcp_range': None}, {'name': 'white', 'subnet_ip': '10.1.3.0', 'bridge': True, 'cidr': '/24', 'gw': '10.1.3.1', 'dhcp_range': '10.1.3.21,10.1.3.150'}, {'name': 'white-core', 'subnet_ip': '10.1.5.8', 'bridge': False, 'cidr': '/30', 'gw': '10.1.5.9', 'dhcp_range': None}], 'routers': [{'name': 'core', 'interfaces': [{'name': 'to-purple-core', 'ip': '10.1.5.1', 'subnet': ''}, {'name': 'to-orange-core', 'ip': '10.1.5.13', 'subnet': ''}, {'name': 'to-yellow-core', 'ip': '10.1.5.5', 'subnet': ''}, {'name': 'to-white-core', 'ip': '10.1.5.9', 'subnet': ''}, {'name': 'loopback', 'ip': '', 'subnet': ''}], 'nexthop': None}, {'name': 'prouter', 'interfaces': [{'name': 'prouter-to-core', 'ip': '10.1.5.2', 'subnet': ''}, {'name': 'prouter-to-pbridge', 'ip': '10.1.1.1', 'subnet': ''}], 'nexthop': ''}, {'name': 'orouter', 'interfaces': [{'name': 'orouter-to-core', 'ip': '10.1.5.14', 'subnet': ''}, {'name': 'orouter-to-obridge', 'ip': '10.1.4.1', 'subnet': ''}], 'nexthop': ''}, {'name': 'yrouter', 'interfaces': [{'name': 'yrouter-to-core', 'ip': '10.1.5.9', 'subnet': ''}, {'name': 'yrouter-to-ybridge', 'ip': '10.1.2.1', 'subnet': ''}], 'nexthop': ''}, {'name': 'wrouter', 'interfaces': [{'name': 'wrouter-to-core', 'ip': '10.1.5.10', 'subnet': ''}, {'name': 'wrouter-to-wbridge', 'ip': '10.1.3.21', 'subnet': ''}], 'nexthop': ''}], 'hosts': [{'name': 'phost', 'interfaces': [{'name': 'phost2pbrg', 'ip': '10.1.1.21', 'vlan': '', 'subnets': 'purple'}]}, {'name': 'ohost', 'interfaces': [{'name': 'ohost2obrg', 'ip': '10.1.1.24', 'vlan': '', 'subnets': 'orange'}]}, {'name': 'yhost', 'interfaces': [{'name': 'yhost2ybrg', 'ip': '10.1.2.24', 'vlan': '', 'subnets': 'yellow'}]}, {'name': 'whost', 'interfaces': [{'name': 'whostwobrg', 'ip': '10.1.3.24', 'vlan': '', 'subnets': 'white'}]}]}
10.1.1.0
purple
True
br purple
10.1.5.0
purple-core
False
10.1.4.0
orange
True
br orange
10.1.5.12
orange-core
False
10.1.2.0
yellow
True
br yellow
10.1.5.4
yellow-core
False
10.1.3.0
white
True
br white
10.1.5.8
white-core
False
to-purple-core
split to-purple-core None, purple-core
core2purpl core purple-core
core2purpl
to-orange-core
split to-orange-core None, orange-core
core2orang core orange-core
core2orang
to-yellow-core
split to-yellow-core None, yellow-core
core2yello core yellow-core
core2yello
to-white-core
split to-white-core None, white-core
core2white core white-core
core2white
loopback
